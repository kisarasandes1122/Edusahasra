/* --- Base Styles & Imports --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root {
  --font-primary: 'Inter', sans-serif;
  --color-text: #111827;
  --color-text-secondary: #6b7280;
  --color-primary-action: #2A6F2B; /* Example primary color */
  --color-primary-action-hover: #225a23;
  --color-secondary-action: #ffffff;
  --color-secondary-action-text: #000000;
  --color-secondary-action-border: #e5e7eb;
  --color-secondary-action-hover-bg: #78c51c; /* Green hover from original btn */
  --color-secondary-action-hover-text: #ffffff;
  --color-background: #ffffff;
  --color-border: #e5e7eb;
  --color-dropdown-bg: #ffffff;
  --color-dropdown-hover-bg: #f3f4f6;
  --header-height-desktop: 80px;
  --header-height-mobile: 65px;
  --border-radius-medium: 12px;
  --border-radius-small: 8px;
  --border-radius-btn: 24px;
}

body {
  font-family: var(--font-primary);
  margin: 0; /* Ensure no default body margin interferes */
}

.header {
  background-color: var(--color-background);
  padding: 0 20px; /* Vertical padding handled by height */
  border-bottom: 1px solid var(--color-border);
  font-family: var(--font-primary);
  position: sticky; /* Keep header visible on scroll */
  top: 0;
  z-index: 1000; /* Ensure header is above page content */
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  height: var(--header-height-desktop);
}

/* --- Logo --- */
.logo a {
  display: flex; /* Helps with alignment */
  align-items: center;
}
.logo img {
  height: 68px; /* Slightly smaller for better balance */
  width: 68px;
  display: block; /* Prevents small space under image */
}

/* --- Desktop Navigation --- */
.nav {
  display: flex; /* Visible on desktop */
}

.nav ul {
  list-style: none;
  display: flex;
  margin: 0;
  padding: 0;
  align-items: center;
}

.nav ul li {
  margin: 0 18px; /* Increased spacing slightly */
  position: relative;
}

.nav ul li a:not(.dropdown-item), /* Exclude dropdown items from this rule */
.nav .dropdown-trigger {
  text-decoration: none;
  color: var(--color-secondary-action-text);
  font-weight: 600;
  font-size: 17px; /* Slightly adjusted */
  transition: color 0.3s ease;
  display: inline-flex; /* Allows alignment with icon */
  align-items: center;
  padding: 5px 0; /* Add some vertical clickable area */
}

.nav ul li a:not(.dropdown-item):hover,
.nav .dropdown-trigger:hover {
  color: #12263A; /* Keep existing hover */
}

/* --- Generic Dropdown Styles --- */
.dropdown-container {
  position: relative;
}

.dropdown-trigger {
  cursor: pointer;
  gap: 5px;
  background: none;
  border: none;
  font-family: var(--font-primary);
  border-radius: var(--border-radius-small);
  transition: background-color 0.2s ease, color 0.2s ease;
}

.dropdown-arrow {
  font-size: 18px; /* Slightly smaller */
  transition: transform 0.2s ease;
  margin-top: 2px; /* Fine-tune alignment */
}

.dropdown-arrow.rotated {
  transform: rotate(180deg);
}

.dropdown-menu {
  position: absolute;
  top: calc(100% + 12px); /* More space */
  left: 0;
  background: var(--color-dropdown-bg);
  border-radius: var(--border-radius-medium);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12); /* Slightly softer shadow */
  width: 280px; /* Fixed width for consistency */
  padding: 16px 0; /* Consistent padding */
  border: 1px solid var(--color-border);
  z-index: 5000;
  opacity: 0; /* Start hidden for animation */
  visibility: hidden; /* Start hidden */
  transform: translateY(-10px); /* Start slightly up */
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
}

/* Use a class to show the dropdown */
.dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdown-title {
  font-weight: 700;
  font-size: 15px; /* Adjusted size */
  color: var(--color-text);
  margin: 0 0 10px 0;
  padding: 0 16px;
}

.dropdown-menu hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 10px 0;
}

.dropdown-items {
  display: flex;
  flex-direction: column;
  gap: 4px; /* Reduced gap */
}

.dropdown-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 10px 16px; /* Consistent padding */
  border-radius: var(--border-radius-small);
  transition: background-color 0.2s ease;
  text-decoration: none;
  margin: 0 8px; /* Margin to prevent touching edges */
}

.dropdown-item:hover {
  background-color: var(--color-dropdown-hover-bg);
}

.dropdown-icon {
  width: 18px; /* Adjusted size */
  height: 18px;
  color: var(--color-text-secondary);
  margin-top: 3px; /* Adjust vertical alignment */
  flex-shrink: 0; /* Prevent icon shrinking */
}

.dropdown-content {
  display: flex;
  flex-direction: column;
  gap: 3px; /* Slightly increased */
}

.dropdown-item-title {
  font-weight: 500;
  color: var(--color-text);
  font-size: 14px;
  line-height: 1.3;
}

.dropdown-item-description {
  color: var(--color-text-secondary);
  font-size: 13px;
  font-weight: 400;
  line-height: 1.4;
}

.dropdown-item:active{
  background-color: #e0e0e0 !important; /* Slightly lighter active state */
}

/* --- User Area & User Dropdown --- */
.header-user {
  display: flex;
  align-items: center;
}

.user-dropdown-container {
  position: relative;
}

.user-dropdown-trigger {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: none;
  color: var(--color-secondary-action-text);
  font-weight: 500; /* Match button weight */
  font-size: 16px;
  padding: 8px 12px;
  font-family: var(--font-primary);
  border-radius: var(--border-radius-small);
  transition: background-color 0.2s ease;
}

.user-dropdown-trigger:hover {
  background-color: var(--color-dropdown-hover-bg);
}

.user-name {
  font-weight: 600; /* Make name slightly bolder */
}

.user-dropdown-menu {
  position: absolute;
  top: calc(100% + 12px); /* Match other dropdown */
  right: 0;
  background: var(--color-dropdown-bg);
  border-radius: var(--border-radius-medium);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
  width: 300px;
  padding: 0; /* Remove padding, handle with items */
  border: 1px solid var(--color-border);
  z-index: 5000;
  opacity: 0; /* Animation */
  visibility: hidden;
  transform: translateY(-10px);
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
  overflow: hidden; /* Ensure content clips to border-radius */
}

.user-dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}


.user-dropdown-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border);
}

.user-dropdown-title {
  font-weight: 600;
  font-size: 15px; /* Adjusted */
  color: var(--color-text);
  margin: 0;
}

.user-dropdown-items {
  display: flex;
  flex-direction: column;
  padding: 8px 0; /* Padding around the items list */
}

.user-dropdown-item {
  display: flex;
  align-items: center; /* Center align icon and text block */
  gap: 12px;
  padding: 10px 16px; /* Consistent padding */
  text-decoration: none;
  color: var(--color-text);
  transition: background-color 0.2s ease;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
  font-family: var(--font-primary);
  font-size: 14px; /* Ensure consistency */
}

.user-dropdown-item:hover {
  background-color: var(--color-dropdown-hover-bg);
}

.user-dropdown-item .icon-wrapper { /* Target wrapper specifically */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background-color: #f3f4f6; /* Keep background */
  border-radius: var(--border-radius-small);
  flex-shrink: 0;
}

.user-dropdown-item .icon {
  font-size: 16px;
  color: var(--color-text); /* Ensure icon color contrasts */
}

/* Re-using .dropdown-content for structure */
.user-dropdown-item .dropdown-content {
  gap: 2px; /* Keep original gap */
}

.user-dropdown-item .item-title { /* Specificity */
  font-weight: 500;
  font-size: 14px;
  color: var(--color-text);
}

.user-dropdown-item .item-description { /* Specificity */
  font-size: 13px;
  color: var(--color-text-secondary);
}

/* --- Header Buttons --- */
.header-buttons {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 9px 22px !important; /* Slightly adjusted padding */
  border: 1px solid transparent !important; /* Base border */
  border-radius: var(--border-radius-btn) !important;
  cursor: pointer !important;
  font-size: 15px !important;
  font-family: var(--font-primary) !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
  white-space: nowrap; /* Prevent wrapping */
}

.btn-primary { /* Request Donation */
  background-color: var(--color-primary-action) !important;
  color: var(--color-background) !important;
  border-color: var(--color-primary-action) !important;
}

.btn-primary:hover {
  background-color: var(--color-primary-action-hover) !important;
  color: var(--color-background) !important;
  border-color: var(--color-primary-action-hover) !important;
}

.btn-secondary { /* Start Donate */
  background-color: var(--color-secondary-action) !important;
  color: var(--color-secondary-action-text) !important;
  border: 1px solid var(--color-secondary-action-border) !important;
}

.btn-secondary:hover {
  background-color: var(--color-secondary-action-hover-bg) !important;
  color: var(--color-secondary-action-hover-text) !important;
  border-color: var(--color-secondary-action-hover-bg) !important;
}


/* --- Mobile Menu Toggle (Hamburger) --- */
.menu-toggle {
  display: none; /* Hidden by default */
  background: none;
  border: none;
  font-size: 28px; /* Adjust size as needed */
  color: var(--color-text);
  cursor: pointer;
  padding: 5px;
  margin-left: 15px; /* Space from user area/buttons */
}

/* --- Mobile Navigation Container --- */
.mobile-nav {
  display: none; /* Hidden by default */
  position: absolute;
  top: var(--header-height-mobile); /* Position below mobile header */
  left: 0;
  right: 0;
  background-color: var(--color-background);
  border-top: 1px solid var(--color-border);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  z-index: 999; /* Below header but above content */
  max-height: calc(100vh - var(--header-height-mobile)); /* Limit height */
  overflow-y: auto; /* Allow scrolling if needed */
}

.mobile-nav ul {
  list-style: none;
  margin: 0;
  padding: 10px 0;
  display: flex;
  flex-direction: column;
}

.mobile-nav ul li {
  margin: 0;
  border-bottom: 1px solid #f0f0f0;
}
.mobile-nav ul li:last-child {
  border-bottom: none;
}

.mobile-nav ul li a,
.mobile-nav .dropdown-trigger {
  display: flex; /* Use flex for alignment */
  justify-content: space-between; /* Puts arrow on the right */
  align-items: center;
  padding: 15px 20px;
  text-decoration: none;
  color: var(--color-text);
  font-weight: 500;
  font-size: 16px;
  transition: background-color 0.2s ease;
}
.mobile-nav .dropdown-trigger {
    width: 100%; /* Make trigger take full width */
    box-sizing: border-box; /* Include padding in width */
}


.mobile-nav ul li a:hover,
.mobile-nav .dropdown-trigger:hover {
  background-color: var(--color-dropdown-hover-bg);
}

/* Mobile Dropdown Menu (Nested) */
.mobile-nav .dropdown-menu {
  position: static; /* Override absolute positioning */
  width: 100%;
  border: none;
  box-shadow: none;
  border-radius: 0;
  padding: 0;
  margin-top: 0;
  opacity: 1; /* Always visible when parent is open */
  visibility: visible;
  transform: none;
  border-top: 1px solid #f0f0f0; /* Separator */
  display: none; /* Hidden by default, shown via JS/Class */
}

.mobile-nav .dropdown-menu.open {
    display: block; /* Show when open */
}

.mobile-nav .dropdown-items {
  gap: 0;
}

.mobile-nav .dropdown-item {
  margin: 0;
  border-radius: 0;
  padding: 12px 20px 12px 35px; /* Indent items */
  border-bottom: 1px solid #f9f9f9; /* Lighter separator */
}
.mobile-nav .dropdown-item:last-child {
  border-bottom: none;
}
.mobile-nav .dropdown-item:hover {
  background-color: #f9fafb;
}

.mobile-nav .dropdown-icon {
    width: 16px;
    height: 16px;
    margin-top: 2px;
}
.mobile-nav .dropdown-item-title {
    font-size: 14px;
}
.mobile-nav .dropdown-item-description {
    font-size: 12px;
}


/* --- Responsive Breakpoints --- */
@media (max-width: 992px) {
  /* Adjust spacing for tablets */
  .nav ul li {
    margin: 0 12px;
  }
  .nav ul li a:not(.dropdown-item),
  .nav .dropdown-trigger {
    font-size: 16px;
  }
  .btn {
    padding: 8px 18px !important;
    font-size: 14px !important;
  }
  .logo img {
    height: 60px;
    width: 60px;
  }
  .header-content {
    height: 70px; /* Slightly reduce height */
  }
}


@media (max-width: 768px) {
  .header {
    padding: 0 15px;
  }
  .header-content {
    height: var(--header-height-mobile); /* Use mobile height */
  }
  .logo img {
    height: 48px; /* Smaller logo */
    width: 48px;
  }

  /* Hide desktop nav, show mobile toggle */
  .nav {
    display: none !important;
  }
  .menu-toggle {
    display: block;
  }

  /* Show mobile nav when it has the 'open' class */
  .mobile-nav.open {
    display: block;
  }

  /* Adjust buttons for mobile */
  .header-buttons {
    gap: 8px; /* Reduce gap */
  }
  .btn {
    padding: 7px 14px !important; /* Smaller buttons */
    font-size: 13px !important;
  }

  /* Ensure user dropdown trigger is still accessible */
  .user-dropdown-trigger {
    font-size: 14px;
    padding: 6px 10px;
  }

  /* Make dropdown menus potentially wider on mobile if needed */
  .dropdown-menu, .user-dropdown-menu {
     /* Allow them to shrink but not exceed viewport width */
    max-width: 90vw; 
  }
}

@media (max-width: 480px) {
    /* Very small screens: Maybe stack buttons if needed, or just rely on smaller size */
    /* Example: Stacking buttons - Uncomment if needed */
    /* .header-buttons {
        flex-direction: column;
        align-items: flex-end; // Align to the right
        gap: 5px;
        position: absolute; // Take out of flow to prevent pushing toggle left
        right: 50px; // Adjust position relative to toggle/user icon
        top: 50%;
        transform: translateY(-50%);
    }
    .btn {
        width: auto; // Don't force full width
        padding: 5px 10px !important;
        font-size: 12px !important;
    } */

    .user-dropdown-trigger {
      font-size: 13px;
      padding: 5px 8px;
      gap: 4px;
    }
    .user-dropdown-trigger .user-name {
       max-width: 70px; /* Prevent long names pushing layout */
       overflow: hidden;
       text-overflow: ellipsis;
       white-space: nowrap;
    }
}